{"ast":null,"code":"import PieSegment from '../pie-chart/pie-segment';\nimport PointEventsMixin from '../mixins/point-events-mixin';\nimport { PIE } from '../constants';\nimport { ShapeBuilder, Box } from '../../core';\nimport { CENTER } from '../../common/constants';\nimport { deepExtend, setDefaultOptions } from '../../common';\n\nvar DonutSegment = function (PieSegment) {\n  function DonutSegment() {\n    PieSegment.apply(this, arguments);\n  }\n\n  if (PieSegment) DonutSegment.__proto__ = PieSegment;\n  DonutSegment.prototype = Object.create(PieSegment && PieSegment.prototype);\n  DonutSegment.prototype.constructor = DonutSegment;\n\n  DonutSegment.prototype.reflowLabel = function reflowLabel() {\n    var ref = this;\n    var labelsOptions = ref.options.labels;\n    var label = ref.label;\n    var sector = this.sector.clone();\n    var angle = sector.middle();\n\n    if (label) {\n      var labelHeight = label.box.height();\n\n      if (labelsOptions.position === CENTER) {\n        sector.radius -= (sector.radius - sector.innerRadius) / 2;\n        var lp = sector.point(angle);\n        label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n      } else {\n        PieSegment.prototype.reflowLabel.call(this);\n      }\n    }\n  };\n\n  DonutSegment.prototype.createSegment = function createSegment(sector, options) {\n    return ShapeBuilder.current.createRing(sector, options);\n  };\n\n  return DonutSegment;\n}(PieSegment);\n\nsetDefaultOptions(DonutSegment, {\n  overlay: {\n    gradient: \"roundedGlass\"\n  },\n  labels: {\n    position: CENTER\n  },\n  animation: {\n    type: PIE\n  }\n});\ndeepExtend(DonutSegment.prototype, PointEventsMixin);\nexport default DonutSegment;","map":null,"metadata":{},"sourceType":"module"}